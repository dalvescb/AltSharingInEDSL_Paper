% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.21 of 2022/01/12
%
\documentclass[runningheads]{llncs}
%
\usepackage[T1]{fontenc}
% T1 fonts will be used to generate the final print and online PDFs,
% so please use T1 fonts in your manuscript whenever possible.
% Other font encondings may result in incorrect characters.
%
\usepackage{graphicx}
\usepackage{listings}
% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following two lines
% to display URLs in blue roman font according to Springer's eBook style:
%\usepackage{color}
%\renewcommand\UrlFont{\color{blue}\rmfamily}
%
\begin{document}
\lstset{language=haskell}
%
\title{Alternative Methods for Implementing
    Explicit and Finding Implicit Sharing in embedded DSLs}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%
\author{Curtis D'Alves \and
Christopher Anand \and
Lucas Dutton \and
Steven Gonder
}
%
\authorrunning{F. Author et al.}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{McMaster University, 1280 Main St W Hamilton, Canada}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
TODO The abstract should briefly summarize the contents of the paper in
150--250 words.

\keywords{First keyword  \and Second keyword \and Another keyword.}
\end{abstract}
%
%
%
\section{Introduction}

TODO describe sharing problem (mention observable sharing
\cite{gill:observablesharing} and implicit/explicit sharing
\cite{kiselyov:sharing} papers)

TODO describe finally tagless \cite{carette:finallytagless}

We present methods for implementing embedded DSLs with sharing that are both
safe and maintain all the benefits of being embedded in the Haskell ecosystem.
This means DSL functions are type-safe, do not require the use of unsafe
referencing (i.e., via unsafePerformIO) and can return Haskell's container
types (i.e., tuples, lists, etc) without breaking sharing.

\section{Detecting Sharing}

A naive DSL implementation of an expression in Haskell can be done via standard
Haskell data types, for example:

\begin{lstlisting}
data Exp
  = Add Exp Exp
  | Variable String
  | Constant Int

-- Example
v0 = Variable ``v0''
exp0 = Add v0 (Constant 0)
exp1 = Add exp0 exp0
\end{lstlisting}

Note the DSL generates a tree, or to be more specific an Abstract Syntax Tree
(AST).

\subsection{Detecting Sharing In Finally Tagless DSLs}


\subsection{Implicit Sharing Via Hash-Consing}
TODO
cite Ershovâ€™s original description of hash-consing \cite{ershov1958:consing}
cite Type safe consing implementation (with performance benchmarks) \cite{filliatre:typesafeconsing}

\subsection{Limitations of Hash-Consing}

TODO add-chains example

\subsection{Explicit Sharing and Limitations}
TODO

\section{Implicit Sharing Via ByteString ASTs}
TODO

\subsection{Memory Limitations}
TODO
\section{Explicit Sharing Of ByteString ASTs}
TODO

\subsubsection{Acknowledgements} Please place your acknowledgments at
the end of the paper, preceded by an unnumbered run-in heading (i.e.
3rd-level heading).

%
% ---- Bibliography ----
%
% BibTeX users should specify bibliography style 'splncs04'.
% References will then be sorted and formatted in the correct style.
\bibliographystyle{splncs04}
\bibliography{references}

\end{document}

% LocalWords:  DSLs unsafePerformIO Haskell's
